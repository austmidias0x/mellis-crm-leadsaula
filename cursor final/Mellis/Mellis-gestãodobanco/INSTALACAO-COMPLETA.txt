â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        MELLIS CRM - GUIA DE INSTALAÃ‡ÃƒO E CONFIGURAÃ‡ÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ ÃNDICE
-----------
1. PrÃ©-requisitos
2. InstalaÃ§Ã£o
3. ConfiguraÃ§Ã£o do Banco de Dados
4. ConfiguraÃ§Ã£o de VariÃ¡veis de Ambiente
5. Executar o Projeto
6. Acesso ao Sistema
7. Funcionalidades Implementadas
8. SoluÃ§Ã£o de Problemas

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. PRÃ‰-REQUISITOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

- Node.js 18+ instalado
- npm ou yarn
- Acesso ao banco de dados PostgreSQL (Neon)
- Navegador moderno (Chrome, Firefox, Safari, Edge)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2. INSTALAÃ‡ÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Instale as dependÃªncias:
   npm install

2. Caso nÃ£o tenha executado o script de setup:
   chmod +x setup.sh
   ./setup.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3. CONFIGURAÃ‡ÃƒO DO BANCO DE DADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ IMPORTANTE: Execute esta migraÃ§Ã£o no seu banco de dados!

Acesse o console do seu banco de dados PostgreSQL (Neon) e execute
o arquivo: migration-add-status.sql

Ou copie e cole o seguinte SQL:

```sql
ALTER TABLE leads 
ADD COLUMN IF NOT EXISTS status VARCHAR(50) DEFAULT 'novo';

UPDATE leads 
SET status = 'novo' 
WHERE status IS NULL;

CREATE INDEX IF NOT EXISTS idx_leads_status ON leads(status);
```

Este SQL adiciona a coluna 'status' necessÃ¡ria para o Kanban funcionar.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. CONFIGURAÃ‡ÃƒO DE VARIÃVEIS DE AMBIENTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Crie um arquivo .env na raiz do projeto com as seguintes variÃ¡veis:

NEON_DATABASE_URL=postgresql://seu-usuario:sua-senha@seu-host/seu-banco
PORT=3001
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173

# ConfiguraÃ§Ãµes de AutenticaÃ§Ã£o
JWT_SECRET=troque-por-uma-chave-secreta-forte
AUTH_PASSWORD=sua-senha-de-acesso

âš ï¸ IMPORTANTE:
- Altere JWT_SECRET para uma chave aleatÃ³ria e forte
- Altere AUTH_PASSWORD para a senha que serÃ¡ usada no login
- NUNCA compartilhe estas credenciais publicamente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. EXECUTAR O PROJETO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VocÃª precisa rodar DOIS terminais simultaneamente:

TERMINAL 1 - Backend:
   npm run dev

TERMINAL 2 - Frontend:
   npm run dev:frontend

Aguarde ambos os servidores iniciarem completamente.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. ACESSO AO SISTEMA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abra o navegador e acesse: http://localhost:5173

2. VocÃª serÃ¡ redirecionado para a pÃ¡gina de login

3. Digite a senha configurada em AUTH_PASSWORD no .env

4. ApÃ³s o login, vocÃª terÃ¡ acesso completo ao CRM

Senha padrÃ£o (se nÃ£o alterou no .env): mellis123

âš ï¸ LEMBRE-SE: Altere a senha padrÃ£o para produÃ§Ã£o!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
7. FUNCIONALIDADES IMPLEMENTADAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Sistema de AutenticaÃ§Ã£o
   - Login protegido por senha
   - JWT Token com expiraÃ§Ã£o de 24h
   - ProteÃ§Ã£o de todas as rotas
   - Logout com limpeza de sessÃ£o

âœ… Dashboard
   - EstatÃ­sticas em tempo real
   - Total de leads
   - Leads novos (Ãºltimos 7 dias)
   - GrÃ¡ficos por profissÃ£o, regiÃ£o e dificuldade

âœ… Listagem de Leads
   - Busca por nome, email ou telefone
   - Filtros avanÃ§ados (profissÃ£o, regiÃ£o, dificuldade, datas)
   - PaginaÃ§Ã£o
   - VisualizaÃ§Ã£o detalhada
   - Links diretos para email e WhatsApp
   - ExportaÃ§Ã£o CSV com filtros aplicados

âœ… Kanban (Mini CRM)
   - 6 colunas: Novo, Em Contato, Qualificado, NegociaÃ§Ã£o, Fechado, Perdido
   - Drag & Drop para mover leads entre colunas
   - AtualizaÃ§Ã£o automÃ¡tica no banco de dados
   - VisualizaÃ§Ã£o rÃ¡pida dos dados do lead
   - Contador de leads por coluna

âœ… ExportaÃ§Ã£o CSV
   - Exporta apenas os leads filtrados
   - Inclui todos os campos importantes
   - Nome do arquivo com data automÃ¡tica
   - Formato compatÃ­vel com Excel

âœ… Design Responsivo
   - Funciona em desktop, tablet e mobile
   - Interface moderna e intuitiva
   - Sidebar com navegaÃ§Ã£o fÃ¡cil

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
8. SOLUÃ‡ÃƒO DE PROBLEMAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA: Erro ao conectar no banco de dados
SOLUÃ‡ÃƒO: 
  - Verifique se NEON_DATABASE_URL estÃ¡ correto no .env
  - Confirme que o banco estÃ¡ acessÃ­vel
  - Verifique se executou a migraÃ§Ã£o SQL

PROBLEMA: Erro "Token invÃ¡lido" ao acessar
SOLUÃ‡ÃƒO:
  - Limpe o localStorage do navegador
  - FaÃ§a login novamente
  - Verifique se JWT_SECRET estÃ¡ definido no .env

PROBLEMA: Senha nÃ£o funciona no login
SOLUÃ‡ÃƒO:
  - Verifique AUTH_PASSWORD no .env
  - Reinicie o servidor backend (npm run dev)
  - Tente a senha padrÃ£o: mellis123

PROBLEMA: Kanban nÃ£o move os leads
SOLUÃ‡ÃƒO:
  - Verifique se executou a migraÃ§Ã£o SQL
  - Confirme que a coluna 'status' existe na tabela leads
  - Verifique o console do navegador para erros

PROBLEMA: ExportaÃ§Ã£o CSV nÃ£o funciona
SOLUÃ‡ÃƒO:
  - Verifique se hÃ¡ leads no banco de dados
  - Confirme que o backend estÃ¡ rodando
  - Verifique permissÃµes de download no navegador

PROBLEMA: Frontend nÃ£o carrega
SOLUÃ‡ÃƒO:
  - Confirme que rodou 'npm run preview' (nÃ£o 'npm run dev:frontend')
  - Verifique se a porta 5173 estÃ¡ livre
  - Acesse http://localhost:5173 (nÃ£o localhost:3001)

PROBLEMA: CORS Error
SOLUÃ‡ÃƒO:
  - Verifique CORS_ORIGIN no .env
  - Deve ser http://localhost:5173
  - Reinicie o backend apÃ³s alterar

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    ESTRUTURA DO PROJETO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Backend:
  server/
    â”œâ”€â”€ index.ts                 - Servidor Express
    â”œâ”€â”€ db.ts                    - ConexÃ£o PostgreSQL
    â”œâ”€â”€ middleware/
    â”‚   â””â”€â”€ auth.middleware.ts   - AutenticaÃ§Ã£o JWT
    â”œâ”€â”€ routes/
    â”‚   â”œâ”€â”€ auth.routes.ts       - Rotas de login
    â”‚   â””â”€â”€ leads.routes.ts      - Rotas de leads
    â”œâ”€â”€ services/
    â”‚   â””â”€â”€ lead.service.ts      - LÃ³gica de negÃ³cio
    â””â”€â”€ types/
        â””â”€â”€ lead.ts              - Tipos TypeScript

Frontend:
  src/
    â”œâ”€â”€ App.tsx                  - AplicaÃ§Ã£o principal
    â”œâ”€â”€ main.tsx                 - Entry point
    â”œâ”€â”€ context/
    â”‚   â””â”€â”€ AuthContext.tsx      - Contexto de autenticaÃ§Ã£o
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ Layout.tsx           - Layout com sidebar
    â”‚   â”œâ”€â”€ ProtectedRoute.tsx   - ProteÃ§Ã£o de rotas
    â”‚   â””â”€â”€ StatsCard.tsx        - Card de estatÃ­stica
    â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ Login.tsx            - PÃ¡gina de login
    â”‚   â”œâ”€â”€ Dashboard.tsx        - Dashboard principal
    â”‚   â”œâ”€â”€ LeadsList.tsx        - Lista de leads
    â”‚   â”œâ”€â”€ LeadDetail.tsx       - Detalhes do lead
    â”‚   â””â”€â”€ Kanban.tsx           - VisualizaÃ§Ã£o Kanban
    â”œâ”€â”€ services/
    â”‚   â””â”€â”€ api.ts               - Client da API
    â””â”€â”€ types/
        â””â”€â”€ lead.ts              - Tipos TypeScript

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        SUPORTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para mais informaÃ§Ãµes, consulte:
- INSTRUCOES.txt - InstruÃ§Ãµes de uso da API
- API-EXAMPLES.txt - Exemplos de uso da API
- ESTRUTURA.txt - Estrutura completa do projeto

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

